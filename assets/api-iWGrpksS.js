import{d as k,X as w,aQ as g,a8 as F,c as H,x as v,g as _,l as j,b as q,m as h,ar as T,as as S,ae as P,i as D,o as E,f as V,z as B,a5 as O,a6 as M,r as N,a9 as z,ac as J,bM as L,ad as U}from"./index-CPXDzLqB.js";import{d as I,b as K,h as X,i as G}from"./VTextField-C-q2j1-I.js";import{f as Q}from"./forwardRefs-B931MWyl.js";import{a as W,w as Y,c as Z,C as R}from"./index-C4wfZp0O.js";const Ee=k({name:"AppTextField",inheritAttrs:!1,__name:"AppTextField",setup(o){const r=w(()=>{const a=g().id,n=F();return a?`app-text-field-${a}`:n}),t=w(()=>g().label);return(c,a)=>(E(),H("div",{class:v(["app-text-field flex-grow-1",c.$attrs.class])},[h(t)?(E(),_(I,{key:0,for:h(r),class:"mb-1 text-body-2 text-wrap",style:{"line-height":"15px"},text:h(t)},null,8,["for","text"])):j("",!0),q(K,T(S({...c.$attrs,class:null,label:void 0,variant:"outlined",id:h(r)})),P({_:2},[D(c.$slots,(n,d)=>({name:d,fn:V(s=>[B(c.$slots,d,T(S(s||{})))])}))]),1040)],2))}}),x=M({...J(),...G()},"VForm"),Re=O()({name:"VForm",props:x(),emits:{"update:modelValue":o=>!0,submit:o=>!0},setup(o,r){let{slots:t,emit:c}=r;const a=X(o),n=N();function d(i){i.preventDefault(),a.reset()}function s(i){const f=i,e=a.validate();f.then=e.then.bind(e),f.catch=e.catch.bind(e),f.finally=e.finally.bind(e),c("submit",f),f.defaultPrevented||e.then(l=>{var p;let{valid:u}=l;u&&((p=n.value)==null||p.submit())}),f.preventDefault()}return z(()=>{var i;return q("form",{ref:n,class:["v-form",o.class],style:o.style,novalidate:!0,onReset:d,onSubmit:s},[(i=t.default)==null?void 0:i.call(t,a)])}),Q(a,n)}});class ee extends Error{constructor(r,t){super(r,t),this.name="FetchError",t!=null&&t.cause&&!this.cause&&(this.cause=t.cause)}}function oe(o){var i,f,e,l,u;const r=((i=o.error)==null?void 0:i.message)||((f=o.error)==null?void 0:f.toString())||"",t=((e=o.request)==null?void 0:e.method)||((l=o.options)==null?void 0:l.method)||"GET",c=((u=o.request)==null?void 0:u.url)||String(o.request)||"/",a=`[${t}] ${JSON.stringify(c)}`,n=o.response?`${o.response.status} ${o.response.statusText}`:"<no response>",d=`${a}: ${n}${r?` ${r}`:""}`,s=new ee(d,o.error?{cause:o.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(s,p,{get(){return o[p]}});for(const[p,y]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(s,p,{get(){return o.response&&o.response[y]}});return s}const re=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function C(o="GET"){return re.has(o.toUpperCase())}function te(o){if(o===void 0)return!1;const r=typeof o;return r==="string"||r==="number"||r==="boolean"||r===null?!0:r!=="object"?!1:Array.isArray(o)?!0:o.buffer?!1:o.constructor&&o.constructor.name==="Object"||typeof o.toJSON=="function"}const se=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ne=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ae(o=""){if(!o)return"json";const r=o.split(";").shift()||"";return ne.test(r)?"json":se.has(r)||r.startsWith("text/")?"text":"blob"}function ie(o,r,t,c){const a=ce((r==null?void 0:r.headers)??(o==null?void 0:o.headers),t==null?void 0:t.headers,c);let n;return(t!=null&&t.query||t!=null&&t.params||r!=null&&r.params||r!=null&&r.query)&&(n={...t==null?void 0:t.params,...t==null?void 0:t.query,...r==null?void 0:r.params,...r==null?void 0:r.query}),{...t,...r,query:n,params:n,headers:a}}function ce(o,r,t){if(!r)return new t(o);const c=new t(r);if(o)for(const[a,n]of Symbol.iterator in o||Array.isArray(o)?o:new t(o))c.set(a,n);return c}async function m(o,r){if(r)if(Array.isArray(r))for(const t of r)await t(o);else await r(o)}const pe=new Set([408,409,425,429,500,502,503,504]),fe=new Set([101,204,205,304]);function A(o={}){const{fetch:r=globalThis.fetch,Headers:t=globalThis.Headers,AbortController:c=globalThis.AbortController}=o;async function a(s){const i=s.error&&s.error.name==="AbortError"&&!s.options.timeout||!1;if(s.options.retry!==!1&&!i){let e;typeof s.options.retry=="number"?e=s.options.retry:e=C(s.options.method)?0:1;const l=s.response&&s.response.status||500;if(e>0&&(Array.isArray(s.options.retryStatusCodes)?s.options.retryStatusCodes.includes(l):pe.has(l))){const u=typeof s.options.retryDelay=="function"?s.options.retryDelay(s):s.options.retryDelay||0;return u>0&&await new Promise(p=>setTimeout(p,u)),n(s.request,{...s.options,retry:e-1})}}const f=oe(s);throw Error.captureStackTrace&&Error.captureStackTrace(f,n),f}const n=async function(i,f={}){const e={request:i,options:ie(i,f,o.defaults,t),response:void 0,error:void 0};e.options.method&&(e.options.method=e.options.method.toUpperCase()),e.options.onRequest&&await m(e,e.options.onRequest),typeof e.request=="string"&&(e.options.baseURL&&(e.request=W(e.request,e.options.baseURL)),e.options.query&&(e.request=Y(e.request,e.options.query),delete e.options.query),"query"in e.options&&delete e.options.query,"params"in e.options&&delete e.options.params),e.options.body&&C(e.options.method)&&(te(e.options.body)?(e.options.body=typeof e.options.body=="string"?e.options.body:JSON.stringify(e.options.body),e.options.headers=new t(e.options.headers||{}),e.options.headers.has("content-type")||e.options.headers.set("content-type","application/json"),e.options.headers.has("accept")||e.options.headers.set("accept","application/json")):("pipeTo"in e.options.body&&typeof e.options.body.pipeTo=="function"||typeof e.options.body.pipe=="function")&&("duplex"in e.options||(e.options.duplex="half")));let l;if(!e.options.signal&&e.options.timeout){const p=new c;l=setTimeout(()=>{const y=new Error("[TimeoutError]: The operation was aborted due to timeout");y.name="TimeoutError",y.code=23,p.abort(y)},e.options.timeout),e.options.signal=p.signal}try{e.response=await r(e.request,e.options)}catch(p){return e.error=p,e.options.onRequestError&&await m(e,e.options.onRequestError),await a(e)}finally{l&&clearTimeout(l)}if((e.response.body||e.response._bodyInit)&&!fe.has(e.response.status)&&e.options.method!=="HEAD"){const p=(e.options.parseResponse?"json":e.options.responseType)||ae(e.response.headers.get("content-type")||"");switch(p){case"json":{const y=await e.response.text(),$=e.options.parseResponse||L;e.response._data=$(y);break}case"stream":{e.response._data=e.response.body||e.response._bodyInit;break}default:e.response._data=await e.response[p]()}}return e.options.onResponse&&await m(e,e.options.onResponse),!e.options.ignoreResponseError&&e.response.status>=400&&e.response.status<600?(e.options.onResponseError&&await m(e,e.options.onResponseError),await a(e)):e.response},d=async function(i,f){return(await n(i,f))._data};return d.raw=n,d.native=(...s)=>r(...s),d.create=(s={},i={})=>A({...o,...i,defaults:{...o.defaults,...i.defaults,...s}}),d}const b=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),de=b.fetch?(...o)=>b.fetch(...o):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),le=b.Headers,ue=b.AbortController,ye=A({fetch:de,Headers:le,AbortController:ue});async function he(o,r){if(typeof window>"u"){const t=Z.createHmac("sha256",r);return t.update(o),t.digest("hex")}else return R.HmacSHA256(o,r).toString(R.enc.Hex)}async function me(o){const r=Math.floor(Date.now()/1e3).toString(),t=await he(r,o);return{kode:r,signature:t}}async function be(o){const r="E542C4GS287CD5931069B433E695F4F2",{kode:t,signature:c}=await me(r);if(o.headers||(o.headers=new Headers),!(o.headers instanceof Headers)){const a=new Headers;Object.entries(o.headers).forEach(([n,d])=>a.append(n,d)),o.headers=a}o.headers.append("X-Kode",t),o.headers.append("X-Signature",c)}const Ce=ye.create({baseURL:"http://157.66.34.74:91",async onRequest({options:o}){const r=U("accessToken").value;r&&o.headers.append("Authorization",`Bearer ${r}`),await be(o)}});export{Ce as $,Re as V,Ee as _};
