import{C as h}from"./vue3-perfect-scrollbar-CeQ3nrDU.js";import{a5 as L,a6 as P,a9 as A,b as o,ab as B,ac as C,d as w,j as N,ad as d,g as l,l as z,m as e,o as s,f as a,Z as m,e as n,v as f,t as p,c as y,F as V,i as D,ae as R,q as S,a0 as T}from"./index-DAYkNofL.js";import{u as F}from"./useAbility-7N1SuOqs.js";import{V as g}from"./VAvatar-Dn9Rcf28.js";import{V as b}from"./VImg-zFWb-7i9.js";import{V as j}from"./VMenu-I3MpI4zS.js";import{V as q,a as k,d as E,b as M}from"./VList-DCv2oWet.js";import{V as v}from"./VBadge-DYpvEmui.js";import{V as U}from"./VDivider-CodweeG_.js";const Z=P({start:Boolean,end:Boolean,...C(),...B()},"VListItemAction"),G=L()({name:"VListItemAction",props:Z(),setup(i,c){let{slots:u}=c;return A(()=>o(i.tag,{class:["v-list-item-action",{"v-list-item-action--start":i.start,"v-list-item-action--end":i.end},i.class],style:i.style},u)),{}}}),H={class:"d-flex gap-2 align-center"},J={class:"text-h6 font-weight-medium"},K={class:"px-4 py-2"},st=w({__name:"UserProfile",setup(i){const c=N(),u=F(),t=d("userData"),x=async()=>{d("accessToken").value=null,t.value=null,await c.push("/login"),d("userAbilityRules").value=null,localStorage.removeItem("userAbilityRules"),u.update([])},I=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Profile"},{type:"divider"}];return(O,_)=>e(t)?(s(),l(v,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(g,{size:"38",class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(b,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(m,{key:1,icon:"tabler-user"})),o(j,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(q,null,{default:a(()=>[o(k,null,{default:a(()=>[n("div",H,[o(G,null,{default:a(()=>[o(v,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(g,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(b,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(m,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1}),n("div",null,[n("h6",J,f(e(t).fullName||e(t).username),1),o(E,{class:"text-capitalize text-disabled"},{default:a(()=>[p(f(e(t).role),1)]),_:1})])])]),_:1}),o(e(h),{options:{wheelPropagation:!1}},{default:a(()=>[(s(),y(V,null,D(I,r=>(s(),y(V,{key:r.title},[r.type==="navItem"?(s(),l(k,{key:0,to:r.to},R({prepend:a(()=>[o(m,{icon:r.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(M,null,{default:a(()=>[p(f(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:a(()=>[o(v,S({rounded:"sm",class:"me-3",ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(s(),l(U,{key:1,class:"my-2"}))],64))),64)),n("div",K,[o(T,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:x},{default:a(()=>_[0]||(_[0]=[p(" Logout ")])),_:1,__:[0]})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):z("",!0)}});export{st as _};
